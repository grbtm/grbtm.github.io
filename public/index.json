[{"content":"I recently had to set up a new M1 MacBook Pro for development, so I wrote down the steps I took along the way.\nBasic security The section \u0026lsquo;The easy stuff\u0026rsquo; in Ricard Bejarano\u0026rsquo;s \u0026lsquo;Hardening macOS\u0026rsquo; guide covers a few security basics for a new macOS machine (most importantly: disk encryption using FileVault, automatic security updates, lock screen after inactivity). The last recommendation in the section covers password managers. This is the approach I took:\nPassword manager I use 1Password as my password manager across multiple devices. To set it up on a new macOS machine, download the installer from: https://1password.com/downloads/mac/. From here on you can use the setup QR code (from the emergency kit printout page) to get it up and running quickly.\nTime Machine Backups Make sure to setup backups via Time Machine. :)\nTerminal emulator and shell Download iTerm2 from: https://iterm2.com/ . In macOS Ventura zsh is the default shell, which we will keep. Additionally, install Oh My Zsh for convenient management of your zsh shell:\nsh -c \u0026#34;$(curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)\u0026#34; Text editor: Vim Vim is already pre-installed, works for me!\nSSH keys My understanding is that it\u0026rsquo;s considered best practice to generate new SSH keys for a new machine as opposed to copying the SSH keys from your old machine. This way the private SSH keys don\u0026rsquo;t have to leave the respective machine and are not flying around on old devices and being forgotten about. To generate a new key follow the prompts and make sure to enter a passphrase:\nssh-keygen -t ed25519 -C \u0026#34;your_email@example.com\u0026#34; For convenience I also recommend to use the ssh-agent to manage your keys securely so that you don\u0026rsquo;t have to type the passphrase everytime you use the keys: see Adding your SSH key to the ssh-agent\nHomebrew A great package manager for macOS:\n/bin/bash -c \u0026#34;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)\u0026#34; After the installation follow the suggested next steps to add Homebrew to your PATH.\nRosetta 2 An app that works in the background and enables you to run apps built for Intel Macs on an Apple silicon Mac (arm64). Many apps already support Apple silicon processors, but there\u0026rsquo;s still software out there (especially older versions of apps) that doesn\u0026rsquo;t run natively on Apple silicon. It\u0026rsquo;s also a recommendation to install Rosetta 2 before installing Docker Desktop. To install:\nsoftwareupdate --install-rosetta Note-taking: Obsidian Great note-taking app for plain text Markdown files:\nbrew install --cask obsidian Htop brew install htop tmux A great terminal multiplexer that let\u0026rsquo;s you run multiple terminal sessions in a single window (as well as detach and re-attach to sessions) :\nbrew install tmux Python Development IDE: VS Code To install VS Code download it from: https://code.visualstudio.com/Download After installing VS Code choose the Python extension via Extensions in the sidebar and search for \u0026lsquo;Python\u0026rsquo; in the Marketplace. It will also ask you to install macOS Command Line Developer Tools if you haven\u0026rsquo;t done already.\nPyenv To manage multiple Python versions, install pyenv:\nbrew install pyenv Set up your shell environment for Pyenv:\necho \u0026#39;export PYENV_ROOT=\u0026#34;$HOME/.pyenv\u0026#34;\u0026#39; \u0026gt;\u0026gt; ~/.zshrc echo \u0026#39;command -v pyenv \u0026gt;/dev/null || export PATH=\u0026#34;$PYENV_ROOT/bin:$PATH\u0026#34;\u0026#39; \u0026gt;\u0026gt; ~/.zshrc echo \u0026#39;eval \u0026#34;$(pyenv init -)\u0026#34;\u0026#39; \u0026gt;\u0026gt; ~/.zshrc Install additional dependencies to be able to build Python, for my M1 Macbook Pro this was:\nbrew install xz (If this is not sufficient and you still encounter issues when building your first Python version as described below, check: https://github.com/pyenv/pyenv/wiki#suggested-build-environment )\nList all available versions and install for example Python 3.10.11:\npyenv install -l pyenv install 3.10.11 Docker Desktop Make sure you have Rosetta 2 installed, then download the image from https://docs.docker.com/desktop/install/mac-install/ and run:\nsudo hdiutil attach Docker.dmg sudo /Volumes/Docker/Docker.app/Contents/MacOS/install sudo hdiutil detach /Volumes/Docker (This default installation will perform privileged configurations once during the installation, for details see: https://docs.docker.com/desktop/mac/permission-requirements/#permission-requirements)\n","permalink":"https://grbtm.github.io/posts/2023/m1-dev-setup/","summary":"\u003cp\u003eI recently had to set up a new M1 MacBook Pro for development, so I wrote down the steps I took along the way.\u003c/p\u003e\n\u003ch3 id=\"basic-security\"\u003eBasic security\u003c/h3\u003e\n\u003cp\u003eThe section \u0026lsquo;The easy stuff\u0026rsquo; in Ricard Bejarano\u0026rsquo;s \u003ca href=\"https://www.bejarano.io/hardening-macos/\"\u003e\u0026lsquo;Hardening macOS\u0026rsquo; guide\u003c/a\u003e covers a few security basics for a new macOS machine (most importantly: disk encryption using \u003ccode\u003eFileVault\u003c/code\u003e, automatic security updates, lock screen after inactivity). The last recommendation in the section covers password managers. This is the approach I took:\u003c/p\u003e","title":"How to Set Up a Dev Environment on a MacBook Pro M1 in 2023"}]